# RustShield v2


⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⣛⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣟⣯⣾⣿⣿⣷⣦⣝⡻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⡋⣿⠿⣛⣫⠵⢾⡿⠿⣿⣿⣿⣿⣿⡿⠿⠶⠭⣙⣻⢿⣟⠻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⣛⣥⣾⠿⢗⣫⣭⣾⣿⣿⣿⣿⣶⣝⠿⢫⣷⣿⣿⣿⣿⣶⣭⣓⡶⢾⣶⣝⡛⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⠋⣭⣵⣶⣿⡿⣻⣵⣶⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣮⣛⢿⣷⣶⣭⣭⣹⣿⣿⣿⣿
⣿⣿⣿⣿⣿⠀⣿⣿⣿⣏⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡋⠻⣿⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡷⣿⣿⣿⣿⣟⢻⣿⣿⣿
⣿⣿⣿⣿⣿⣤⣿⣿⣿⠿⠦⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡄⠙⢆⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠡⠿⣿⣿⣿⣯⣼⣿⣿⣿
⣿⠀⣤⡄⢹⡗⣿⢋⣶⣿⣿⣷⣿⣿⣿⣿⠿⠿⢿⠉⠙⠻⠉⠛⠷⡀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣿⣿⣶⡝⣿⡏⣿⣿⣿⣿
⣍⡙⠋⢽⣿⡇⣿⢸⣿⣿⣿⣿⣿⡿⠿⠟⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣻⡇⣿⣿⣿⣿
⣿⠋⣉⠈⣽⣇⣻⢸⣿⣿⣿⣿⣿⠿⠀⠀⠀⠀⠀⠀⣀⣀⣀⣀⡀⠀⠀⠀⠀⠀⠀⠀⠈⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⣿⠁⢠⢹
⣿⡆⠀⠐⣿⣿⢹⠸⣿⣿⣿⣿⣇⠀⠀⠀⠀⢀⣶⣿⣿⣿⣿⣿⣿⣷⣦⣀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⣿⣿⣿⣿⣿⣿⢾⢀⡿⠁⠈⢸
⣿⡧⠀⠁⢿⣿⡎⡀⣿⣿⣿⣿⠃⠀⠀⠀⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⡏⡾⢸⡏⠀⢐⣾
⣿⣿⠿⠧⢼⣿⣧⢥⢹⣿⣿⣷⡶⠀⠀⠀⠀⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⡀⠀⠀⠀⠀⠀⢨⣿⣿⣿⣿⣿⢷⡇⡾⠅⢀⢲⣿
⣿⣿⡀⠀⠠⣿⣿⡈⡞⣿⣿⣿⡇⢀⠀⠀⠀⠀⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣄⡀⠀⠀⠀⠹⢿⣿⣿⡿⢸⢰⡦⣘⠀⣼⣿
⣿⣿⣇⢀⠂⢠⣿⣷⢹⢹⣿⣿⣿⣿⡇⠀⠀⠀⠀⠈⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⣽⣿⠃⣏⣷⠤⠬⣭⣿⣿
⣿⣿⣿⡄⣴⡈⣿⣿⣧⣇⢻⣿⣿⣿⣿⣾⣷⣦⣀⠀⠀⠀⠉⠻⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠃⠀⣠⣴⣿⡟⡰⣼⠇⣀⢂⣼⣿⣿
⣿⣿⣿⣿⠈⡴⢞⣿⣿⡎⢆⢿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣤⣀⠀⠀⠀⠉⠛⢿⣿⣿⣿⣿⣿⣿⣷⣶⣿⣿⣿⡟⡜⠐⣋⣁⡘⢿⣿⣿⣿
⣿⣿⣿⣿⣧⣀⣤⠘⣿⣿⣎⢮⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣤⣄⠀⠀⠉⠿⣿⣿⣿⣿⣿⣿⣿⣿⡟⡼⣰⣄⣡⠄⣹⣼⣿⣿⣿
⣿⣿⣿⣿⣿⣿⢛⡡⠒⣿⣿⣎⣧⡹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⡀⠀⠘⣿⣿⣿⣿⣿⣿⣟⡜⣴⣿⣿⣿⣶⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣯⡴⠂⡉⢙⣿⣧⢳⣙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⠀⠸⣿⣿⣿⡿⢣⡏⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣷⣄⣤⣾⣿⣏⢡⣿⣎⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣇⠀⣿⣿⠟⣴⣿⢌⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣍⢿⣷⣝⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⡟⣡⣾⡿⣡⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣝⢿⣶⣝⢿⣿⣿⣿⣿⢁⢿⣿⣿⣿⣿⢟⣭⣾⠟⣩⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣎⡻⣷⣎⡛⠿⢣⣿⣎⠻⠟⣫⣵⣿⢟⣵⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣮⣻⢿⣿⣿⣿⣿⣿⣿⡿⢫⣵⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣙⠿⣿⣿⣟⣩⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣌⣱⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿

RustShield v2 est la deuxième version majeure de notre système de détection d'intrusion (IDS) et de gestion des informations de sécurité (SIEM) écrit en Rust. Cette version améliore et étend les fonctionnalités de RustShield v1 en introduisant un système robuste basé sur l'architecture agent-serveur pour une surveillance et une analyse plus efficaces des activités réseau et système, ainsi qu'une détection avancée des comportements suspects et une réponse automatisée aux menaces.

## Caractéristiques de RustShield v2 :

- **Architecture Agent-Serveur :** Permet une collecte et un traitement décentralisés des données de journalisation à travers divers hôtes.
- **Surveillance Avancée des Logs :** Surveillance améliorée des logs système et réseau avec une capacité accrue à détecter des comportements anormaux.
- **Réponse Automatisée :** Capacité à répondre automatiquement aux menaces détectées selon des règles prédéfinies.

## Mise en Place de RustShield v2

Pour commencer avec RustShield v2, suivez ces étapes :

1. **Clonage du Dépôt :**
   ```bash
   git clone thomas.boisson@git.forge.epita.fr:p/epita-apprentissage/rustorrent-apping-2025/epita-apprentissage-rustorrent-apping-2025-secmyd1k.git

2. Configuration de config.json

Config.json possède un champ "server_ip", laissez le en localhost si vous souhaitez tester l'agent et le serveur en local ou alors changer le avec une
adresse IP privée (si publique, ouvrez le port 7331 en TCP)

Changez ce fichier a la fois dans l'agent et serveur (src/libs/configs)

3. Agent, code de test pour serveur (Facultatif)

Dans src/main.rs de l'agent, il y a une variable "test" sur false par défault.
A changer pour True si on veut envoyer le fichier de template au serveur, 
cela permet de tester le fonctionnement du serveur en envoyant directement une log deja parser et normaliser.

4. Lancez l'agent/le serveur

Allez dans l'un des deux dossiers et lancez cette commande:
   ```bash
   cargo run
```
5. Test en application

Pour cela il suffit de lancer le serveur en premier puis ensuite l'agent, vous aurez à modifier n'importe quel
fichier dans tests/logs et l'agent detectera un nouveau mouvement dans le repertoire.
L'agent va parser, normaliser et envoyer la log au serveur qui va la matche avec son stock de rules et sortir un resultat
